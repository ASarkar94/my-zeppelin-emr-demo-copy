{
  "paragraphs": [
    {
      "title": "Zeppelin Demo Notebook 1",
      "text": "%md\nDemonstrate loading, querying, visualizing, and saving a small ~21k row kaggle dataset.\nThe \u0027Transactions from a bakery\u0027 dataset is documented on [kaggle](https://www.kaggle.com/sulmansarwar/transactions-from-a-bakery).",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:26.643",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "results": {},
        "enabled": true,
        "title": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003cp\u003eDemonstrate loading, querying, visualizing, and saving a small ~21k row kaggle dataset.\u003cbr/\u003eThe \u0026lsquo;Transactions from a bakery\u0026rsquo; dataset is documented on \u003ca href\u003d\"https://www.kaggle.com/sulmansarwar/transactions-from-a-bakery\"\u003ekaggle\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1573058000759_-1487542903",
      "id": "20191106-153644_419077851",
      "dateCreated": "2019-11-06 16:33:20.759",
      "dateStarted": "2019-11-12 02:17:26.677",
      "dateFinished": "2019-11-12 02:17:26.694",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Import Python Packages",
      "text": "%spark.pyspark\nfrom pyspark import SparkFiles\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql.types import StructType, StructField, StringType, IntegerType",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:26.776",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "title": true,
        "lineNumbers": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_1826550872",
      "id": "20191009-042517_1466963465",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:26.805",
      "dateFinished": "2019-11-12 02:17:26.815",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Create Spark Session",
      "text": "%spark.pyspark\nspark \u003d SparkSession \\\n    .builder \\\n    .appName(\u0027pyspark_demo_app\u0027) \\\n    .getOrCreate()",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:26.904",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {}
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_-178139685",
      "id": "20191009-042751_2109019779",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:26.928",
      "dateFinished": "2019-11-12 02:17:26.938",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Save CSV Data File to S3",
      "text": "%sh\n# change me for shell interpreter binding\nDATA_BUCKET\u003d\"gstafford-aws-emr-notebooks\"\n\nDATA_FILE\u003d\"BreadBasket_DMS.csv\"\n\n# copy bakery data to/from s3 bucket\nif [ -f \"$DATA_FILE\" ]; then\n    echo \"$DATA_FILE exist\"\nelse\n    wget -nv https://raw.githubusercontent.com/garystafford/pyspark-setup-demo/master/work/$DATA_FILE -O $DATA_FILE\nfi\n\naws s3 cp $DATA_FILE s3://$DATA_BUCKET/data/$DATA_FILE\n\n# ls -alh data/$DATA_FILE\n\n# copy from local file system (/var/lib/zeppelin) to the destination file system (/user/zeppelin)\n# hadoop fs -put -f  data/$DATA_FILE $DATA_FILE\n# hadoop fs -ls -h $DATA_FILE",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:27.028",
      "config": {
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "selectedInterpreter": {
          "name": "python",
          "profile": "python",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.python.PythonInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sh",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {
          "HADOOP_HOME": ""
        },
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "BreadBasket_DMS.csv exist\nCompleted 256.0 KiB/693.9 KiB (5.2 MiB/s) with 1 file(s) remaining\rCompleted 512.0 KiB/693.9 KiB (9.5 MiB/s) with 1 file(s) remaining\rCompleted 693.9 KiB/693.9 KiB (8.1 MiB/s) with 1 file(s) remaining\rupload: ./BreadBasket_DMS.csv to s3://gstafford-aws-emr-notebooks/data/BreadBasket_DMS.csv\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_961427148",
      "id": "20191009-042907_1768707497",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:27.056",
      "dateFinished": "2019-11-12 02:17:27.668",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Load CSV Data from S3 into DataFrame",
      "text": "%spark.pyspark\n# change me to same value as shell interpreter binding, for pyspark interpreter binding\nDATA_BUCKET\u003d\"gstafford-aws-emr-notebooks\"\n\nDATA_FILE\u003d\"BreadBasket_DMS.csv\"\n\nbakery_schema \u003d StructType([\n    StructField(\"date\", StringType(), True),\n    StructField(\"time\", StringType(), True),\n    StructField(\"transaction\", IntegerType(), True),\n    StructField(\"item\", StringType(), True)\n])\n\ndf_bakery \u003d spark.read \\\n    .format(\"csv\") \\\n    .option(\"header\", \"true\") \\\n    .load(\"s3://\" + DATA_BUCKET + \"/data/\" + DATA_FILE, schema\u003dbakery_schema)\n\nprint(\"Row count: %s\" % df_bakery.count())\nprint(\"Schema: %s\" % df_bakery)\ndf_bakery.show(10, False)",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:27.756",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Row count: 21293\nSchema: DataFrame[date: string, time: string, transaction: int, item: string]\n+----------+--------+-----------+-------------+\n|date      |time    |transaction|item         |\n+----------+--------+-----------+-------------+\n|2016-10-30|09:58:11|1          |Bread        |\n|2016-10-30|10:05:34|2          |Scandinavian |\n|2016-10-30|10:05:34|2          |Scandinavian |\n|2016-10-30|10:07:57|3          |Hot chocolate|\n|2016-10-30|10:07:57|3          |Jam          |\n|2016-10-30|10:07:57|3          |Cookies      |\n|2016-10-30|10:08:41|4          |Muffin       |\n|2016-10-30|10:13:03|5          |Coffee       |\n|2016-10-30|10:13:03|5          |Pastry       |\n|2016-10-30|10:13:03|5          |Bread        |\n+----------+--------+-----------+-------------+\nonly showing top 10 rows\n\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d0",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d1"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_886915304",
      "id": "20191009-044129_2035687603",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:27.786",
      "dateFinished": "2019-11-12 02:17:34.461",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Save Data in Parquet-format to S3",
      "text": "%spark.pyspark\ndf_bakery.write.parquet(\"s3://\" + DATA_BUCKET + \"/output/bakery_parquet\", mode\u003d\"overwrite\")",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:34.491",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d2"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_-634386583",
      "id": "20191010-052611_90769380",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:34.515",
      "dateFinished": "2019-11-12 02:17:36.670",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Load Parquet-format Data from S3",
      "text": "%spark.pyspark\ndf_bakery \u003d spark.read.parquet(\"s3://\" + DATA_BUCKET + \"/output/bakery_parquet\")\n\nprint(\"Row count: %s\" % df_bakery.count())",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:36.717",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Row count: 21293\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d3",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d4"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573519493699_-257068444",
      "id": "20191112-004453_863376777",
      "dateCreated": "2019-11-12 00:44:53.699",
      "dateStarted": "2019-11-12 02:17:36.746",
      "dateFinished": "2019-11-12 02:17:38.663",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Create Temporary View of Data",
      "text": "%spark.pyspark\ndf_bakery.createOrReplaceTempView(\"bakery\")\n\ndf_bakeryClean \u003d spark.sql(\"SELECT transaction, date, item \" +\n                       \"FROM bakery \" +\n                       \"WHERE item NOT LIKE \u0027NONE\u0027\" +\n                       \"ORDER BY transaction\")\n\nprint(\"Row count: %s\" % df_bakeryClean.count())\ndf_bakeryClean.show(10, False)",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:38.743",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Row count: 20507\n+-----------+----------+-------------+\n|transaction|date      |item         |\n+-----------+----------+-------------+\n|1          |2016-10-30|Bread        |\n|2          |2016-10-30|Scandinavian |\n|2          |2016-10-30|Scandinavian |\n|3          |2016-10-30|Hot chocolate|\n|3          |2016-10-30|Cookies      |\n|3          |2016-10-30|Jam          |\n|4          |2016-10-30|Muffin       |\n|5          |2016-10-30|Coffee       |\n|5          |2016-10-30|Pastry       |\n|5          |2016-10-30|Bread        |\n+-----------+----------+-------------+\nonly showing top 10 rows\n\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d5",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d6",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d7"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_-1417833523",
      "id": "20191009-050109_648011188",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:38.772",
      "dateFinished": "2019-11-12 02:17:50.172",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Replace Temporary View with New Query",
      "text": "%spark.pyspark\ndf_bakeryClean.createOrReplaceTempView(\"bakery\")\n\ndf_bakerySummary \u003d spark.sql(\"SELECT date, count(*) as item_count \" +\n                       \"FROM bakery \" +\n                       \"WHERE date \u003e\u003d \u00272017-01-01\u0027 \" +\n                       \"GROUP BY date \" +\n                       \"ORDER BY date\")\n\nprint(\"Row count: %s\" % df_bakerySummary.count())\ndf_bakerySummary.show(10, False)",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:17:50.186",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "selectedInterpreter": {
          "name": "spark.pyspark",
          "profile": "pyspark",
          "isCustom": false,
          "editorLanguage": "python",
          "className": "org.apache.zeppelin.spark.PySparkInterpreter",
          "isDefault": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false
            }
          }
        ],
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Row count: 98\n+----------+----------+\n|date      |item_count|\n+----------+----------+\n|2017-01-01|1         |\n|2017-01-03|87        |\n|2017-01-04|76        |\n|2017-01-05|95        |\n|2017-01-06|84        |\n|2017-01-07|188       |\n|2017-01-08|103       |\n|2017-01-09|82        |\n|2017-01-10|71        |\n|2017-01-11|95        |\n+----------+----------+\nonly showing top 10 rows\n\n"
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d8",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d9",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d10",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d11",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d12"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_-945322986",
      "id": "20191009-050155_2142326603",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:17:50.223",
      "dateFinished": "2019-11-12 02:18:04.151",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Native Zeppelin Visualization Based on SQL Query",
      "text": "%sql\nSELECT date, count(*) as item_count\nFROM bakery\nWHERE date BETWEEN \u00272017-01-01\u0027 AND \u00272017-03-31\u0027\nGROUP BY date\nORDER BY date",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:18:21.046",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "date": "string",
                      "item_count": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "rotate",
                  "stacked": false
                },
                "stackedAreaChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "date",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "item_count",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "date\titem_count\n2017-01-01\t1\n2017-01-03\t87\n2017-01-04\t76\n2017-01-05\t95\n2017-01-06\t84\n2017-01-07\t188\n2017-01-08\t103\n2017-01-09\t82\n2017-01-10\t71\n2017-01-11\t95\n2017-01-12\t72\n2017-01-13\t109\n2017-01-14\t187\n2017-01-15\t119\n2017-01-16\t66\n2017-01-17\t91\n2017-01-18\t82\n2017-01-19\t119\n2017-01-20\t136\n2017-01-21\t195\n2017-01-22\t166\n2017-01-23\t108\n2017-01-24\t112\n2017-01-25\t69\n2017-01-26\t113\n2017-01-27\t160\n2017-01-28\t237\n2017-01-29\t147\n2017-01-30\t73\n2017-01-31\t113\n2017-02-01\t124\n2017-02-02\t121\n2017-02-03\t138\n2017-02-04\t292\n2017-02-05\t170\n2017-02-06\t136\n2017-02-07\t107\n2017-02-08\t103\n2017-02-09\t123\n2017-02-10\t143\n2017-02-11\t185\n2017-02-12\t113\n2017-02-13\t148\n2017-02-14\t113\n2017-02-15\t79\n2017-02-16\t109\n2017-02-17\t176\n2017-02-18\t227\n2017-02-19\t181\n2017-02-20\t114\n2017-02-21\t88\n2017-02-22\t113\n2017-02-23\t103\n2017-02-24\t142\n2017-02-25\t175\n2017-02-26\t186\n2017-02-27\t76\n2017-02-28\t121\n2017-03-01\t91\n2017-03-02\t94\n2017-03-03\t135\n2017-03-04\t257\n2017-03-05\t124\n2017-03-06\t94\n2017-03-07\t118\n2017-03-08\t77\n2017-03-09\t104\n2017-03-10\t139\n2017-03-11\t203\n2017-03-12\t146\n2017-03-13\t103\n2017-03-14\t103\n2017-03-15\t87\n2017-03-16\t113\n2017-03-17\t118\n2017-03-18\t177\n2017-03-19\t128\n2017-03-20\t95\n2017-03-21\t102\n2017-03-22\t105\n2017-03-23\t123\n2017-03-24\t131\n2017-03-25\t246\n2017-03-26\t161\n2017-03-27\t87\n2017-03-28\t110\n2017-03-29\t99\n2017-03-30\t123\n2017-03-31\t151\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d13",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d14"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_1142817223",
      "id": "20191106-005218_589421977",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:18:04.310",
      "dateFinished": "2019-11-12 02:18:08.522",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Native Zeppelin Visualization Based on SQL Query",
      "text": "%sql\nSELECT count(*) as item_count, item\nFROM bakery\nGROUP BY item\nORDER BY item_count\nDESC LIMIT 10",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:18:08.599",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {
          "0": {
            "graph": {
              "mode": "pieChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "item": "string",
                      "count": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default",
                  "stacked": true
                },
                "stackedAreaChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "pieChart": {}
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "item",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "item_count",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "item_count\titem\n5471\tCoffee\n3325\tBread\n1435\tTea\n1025\tCake\n856\tPastry\n771\tSandwich\n616\tMedialuna\n590\tHot chocolate\n540\tCookies\n379\tBrownie\n"
          },
          {
            "type": "TEXT",
            "data": ""
          }
        ]
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d15",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d16"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000760_-1357437731",
      "id": "20191106-042245_200419154",
      "dateCreated": "2019-11-06 16:33:20.760",
      "dateStarted": "2019-11-12 02:18:08.625",
      "dateFinished": "2019-11-12 02:18:12.710",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Write Transformed Data to Parquet Format",
      "text": "%spark.pyspark\ndf_bakerySummary.write.parquet(\"s3://\" + DATA_BUCKET + \"/output/bakery_summary_parquet\", mode\u003d\"overwrite\")",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:18:12.729",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": {},
        "enabled": true,
        "lineNumbers": true,
        "title": true,
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "runtimeInfos": {
        "jobUrl": {
          "propertyName": "jobUrl",
          "label": "SPARK JOB",
          "tooltip": "View in Spark web UI",
          "group": "spark",
          "values": [
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d17",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d18",
            "http://ip-172-31-2-21.ec2.internal:4040/jobs/job?id\u003d19"
          ],
          "interpreterSettingId": "spark"
        }
      },
      "apps": [],
      "jobName": "paragraph_1573058000761_-1476901850",
      "id": "20191106-151740_1177114488",
      "dateCreated": "2019-11-06 16:33:20.761",
      "dateStarted": "2019-11-12 02:18:12.791",
      "dateFinished": "2019-11-12 02:18:20.995",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh\n",
      "user": "anonymous",
      "dateUpdated": "2019-11-12 02:18:21.000",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1573520537776_-813967489",
      "id": "20191112-010217_318317354",
      "dateCreated": "2019-11-12 01:02:17.777",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "demo-zeppelin-nb-01",
  "id": "2ERVVKTCG",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": [],
    "sh:shared_process": [],
    "spark:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}